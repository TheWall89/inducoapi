# json2openapi

A simple python program to generate OpenApi documentation by supplying JSON request/response bodies.

## Motivation

Sometimes you have an fully functioning HTTP service without documentation.
At some point in time, others may need to use your service and they ask you to provide the OpenApi spec.
Writing the documentation by hand is a pain and can feel like an overwhelming job.
_json2openapi_ helps you generate your OpenApi specification by providing requests/responses examples plus some
other information.

Validation
Examples

## Installation

Pipenv is used for dependencies. Create a virtual environment with:

```shell script
# clone repository
$ cd json2openapi
$ pipenv install 
```

## Usage

`json2openapi.py` provides its own help. Check it out with:

```shell script
$ pipenv run python json2openapi.py --help
```

Let's consider a simple case.
You have an HTTP service managing employees.
We want to generate OpenApi spec for a GET on all the employees, returning a 200 status code:

```shell script
$ pipenv run python json2openapi.py GET /employees 200
```

<details><summary>output</summary>
<p>
```
OpenAPI looks valid.
---
openapi: 3.0.0
info:
  title: Generated by json2openapi
  version: v1
paths:
  /employees:
    get:
      responses:
        200:
          description: ''
          content: null
```
</p>
</details>

Now, a GET request with an empty response is not quite useful.
Let's add an argument with a JSON file containing a response example.

```shell script
$ pipenv run python json2openapi.py GET /employees 200 -respj ./examples/employees.json
```

<details><summary>output</summary>
<p>
```
OpenAPI looks valid.
---
openapi: 3.0.0
info:
  title: Generated by json2openapi
  version: v1
paths:
  /employees:
    get:
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      example: 1
                    name:
                      type: string
                      example: Dwight Schrute
                    role:
                      type: string
                      example: salesman
```
</p>
</details>

